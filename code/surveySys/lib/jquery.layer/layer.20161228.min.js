/*!
 @Name：layer v2.1 弹层组件
 @Author：贤心
 @Site：http://layer.layui.com
 @License：LGPL

 */
!function(c,e){var i=c._WEB_Cfg.jsLibPath+"jquery.layer/",d,g,h={getPath:function(){var k=document.scripts,j=k[k.length-1],l=j.src;if(j.getAttribute("merge")){return}return i?i:l.substring(0,l.lastIndexOf("/")+1)}(),enter:function(j){if(j.keyCode===13){j.preventDefault()}},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]};var f={v:"2.1",ie6:!!c.ActiveXObject&&!c.XMLHttpRequest,index:0,path:h.getPath,config:function(k,l){var m=0;k=k||{};f.cache=h.config=d.extend(h.config,k);f.path=h.config.path||f.path;typeof k.extend==="string"&&(k.extend=[k.extend]);f.use("skin/layer.css",(k.extend&&k.extend.length>0)?(function j(){var n=k.extend;f.use(n[n[m]?m:m-1],m<n.length?function(){++m;return j}():l)}()):l);return this},use:function(o,r,l){var n=0,q=d("head")[0];var o=o.replace(/\s/g,"");var m=/\.css$/.test(o);var k=document.createElement(m?"link":"script");var j="layui_layer_"+o.replace(/\.|\//g,"");if(!f.path){return}if(m){k.rel="stylesheet"}k[m?"href":"src"]=/^http:\/\//.test(o)?o:f.path+o;k.id=j;if(!d("#"+j)[0]){q.appendChild(k)}(function p(){(m?parseInt(d("#"+j).css("width"))===1989:f[l||j])?function(){r&&r();try{m||q.removeChild(k)}catch(s){}}():setTimeout(p,100)}());return this},ready:function(l,k){var j=typeof l==="function";if(j){k=l}f.config(d.extend(h.config,function(){return j?{}:{path:l}}()),k);return this},alert:function(l,j,m){var k=typeof j==="function";if(k){m=j}return f.open(d.extend({content:l,yes:m},k?{}:j))},confirm:function(m,k,n,j){var l=typeof k==="function";if(l){j=n;n=k}return f.open(d.extend({content:m,btn:h.btn,yes:n,cancel:j},l?{}:k))},msg:function(n,l,k){var m=typeof l==="function",p=h.config.skin;var o=(p?p+" "+p+"-msg":"")||"layui-layer-msg";var j=b.anim.length-1;if(m){k=l}return f.open(d.extend({content:n,time:3000,shade:false,skin:o,title:false,closeBtn:false,btn:false,end:k},(m&&!h.config.skin)?{skin:o+" layui-layer-hui",shift:j}:function(){l=l||{};if(l.icon===-1||l.icon===e&&!h.config.skin){l.skin=o+" "+(l.skin||"layui-layer-hui")}return l}()))},load:function(k,j){return f.open(d.extend({type:3,icon:k||0,shade:0.01},j))},tips:function(k,l,j){return f.open(d.extend({type:4,content:[k,l],closeBtn:false,time:3000,maxWidth:210},j))},stock:function(m,n,j){var l={tips:[2,"#FEFAEC"],skin:"stock-less",time:20000};if(j&&!d.isFunction(j)){l=d.extend(l,j)}var k=f.tips(m,n,l);n.unbind("mouseleave").bind("mouseleave",function(){f.close(k)})},vtips:function(k,l){var j=f.tips(k,l,{tips:[3,"#FEFAEC"],skin:"vtips",time:100000});l.bind("mouseleave",function(){})}};var a=function(j){var k=this;k.index=++f.index;k.config=d.extend({},k.config,h.config,j);k.creat()};a.pt=a.prototype;var b=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];b.anim=["layui-anim","layui-anim-01","layui-anim-02","layui-anim-03","layui-anim-04","layui-anim-05","layui-anim-06"];a.pt.config={type:0,shade:0.3,fix:true,move:b[1],title:"&#25552;&#31034;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:true,tips:2};a.pt.vessel=function(k,q){var m=this,j=m.index,l=m.config;var r=l.zIndex+j,o=typeof l.title==="object";var p=l.maxmin&&(l.type===1||l.type===2);var n=(l.title?'<div class="layui-layer-title" style="'+(o?l.title[1]:"")+'">'+(o?l.title[0]:l.title)+"</div>":"");l.zIndex=r;q([l.shade?('<div class="layui-layer-shade" id="layui-layer-shade'+j+'" times="'+j+'" style="'+("z-index:"+(r-1)+"; background-color:"+(l.shade[1]||"#000")+"; opacity:"+(l.shade[0]||l.shade)+"; filter:alpha(opacity="+(l.shade[0]*100||l.shade*100)+");")+'"></div>'):"",'<div class="'+b[0]+" "+(b.anim[l.shift]||"")+(" layui-layer-"+h.type[l.type])+(((l.type==0||l.type==2)&&!l.shade)?" layui-layer-border":"")+" "+(l.skin||"")+'" id="'+b[0]+j+'" type="'+h.type[l.type]+'" times="'+j+'" showtime="'+l.time+'" conType="'+(k?"object":"string")+'" style="z-index: '+r+"; width:"+l.area[0]+";height:"+l.area[1]+(l.fix?"":";position:absolute;")+'">'+(k&&l.type!=2?"":n)+'<div class="layui-layer-content'+((l.type==0&&l.icon!==-1)?" layui-layer-padding":"")+(l.type==3?" layui-layer-loading"+l.icon:"")+'">'+(l.type==0&&l.icon!==-1?'<i class="layui-layer-ico layui-layer-ico'+l.icon+'"></i>':"")+(l.type==1&&k?"":(l.content||""))+'</div><span class="layui-layer-setwin">'+function(){var s=p?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";l.closeBtn&&(s+='<a class="layui-layer-ico '+b[7]+" "+b[7]+(l.title?l.closeBtn:(l.type==4?"1":"2"))+'" href="javascript:;"><i class="vvicon">&#xe60a;</i></a>');return s}()+"</span>"+(l.btn?function(){var v="";typeof l.btn==="string"&&(l.btn=[l.btn]);for(var w=0,t=l.btn.length;w<t;w++){var s=b[6],x=w;if(t==1){x=1;s=s+"1 full"}else{s+=(""+w)}var u=l.target?l.target[w]:"";if(u=="_blank"){v+='<a data-index="'+x+'" class="'+s+'" target="_blank" class="link" href="'+l.src[w]+'">'+l.btn[w]+"</a>"}else{v+='<a data-index="'+x+'" class="'+s+'">'+l.btn[w]+"</a>"}}return'<div class="'+b[6]+'">'+v+"</div>"}():"")+"</div>"],n);return m};a.pt.creat=function(){var l=this,j=l.config,n=l.index,o;var k=j.content,m=typeof k==="object";if(typeof j.area==="string"){j.area=j.area==="auto"?["",""]:[j.area,""]}switch(j.type){case 0:j.btn=("btn" in j)?j.btn:h.btn[0];f.closeAll("dialog");break;case 2:var k=j.content=m?j.content:[j.content||"http://layer.layui.com","auto"];j.content='<iframe scrolling="'+(j.content[1]||"auto")+'" allowtransparency="true" id="'+b[4]+""+n+'" name="'+b[4]+""+n+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+j.content[0]+'"></iframe>';break;case 3:j.title=false;j.closeBtn=false;j.icon===-1&&(j.icon===0);f.closeAll("loading");break;case 4:m||(j.content=[j.content,"body"]);j.follow=j.content[1];j.content=j.content[0]+'<i class="layui-layer-TipsG"></i><i class="layui-layer-TipsS"></i>';j.title=false;j.shade=false;j.fix=false;j.tips=typeof j.tips==="object"?j.tips:[j.tips,true];j.tipsMore||f.closeAll("tips");break}l.vessel(m,function(q,p){d("body").append(q[0]);m?function(){(j.type==2||j.type==4)?function(){d("body").append(q[1])}():function(){if(!k.parents("."+b[0])[0]){k.show().addClass("layui-layer-wrap").wrap(q[1]);d("#"+b[0]+n).find("."+b[5]).before(p)}}()}():d("body").append(q[1]);l.layero=d("#"+b[0]+n);j.scrollbar||b.html.css("overflow","hidden").attr("layer-full",n)}).auto(n);j.type==2&&f.ie6&&l.layero.find("iframe").attr("src",k[0]);d(document).off("keydown",h.enter).on("keydown",h.enter);l.layero.on("keydown",function(p){d(document).off("keydown",h.enter)});j.type==4?l.tips():l.offset();if(j.fix){g.on("resize",function(){l.offset();(/^\d+%$/.test(j.area[0])||/^\d+%$/.test(j.area[1]))&&l.auto(n);j.type==4&&l.tips()})}j.time<=0||setTimeout(function(){f.close(l.index)},j.time);l.move().callback()};a.pt.auto=function(l){var p=this,m=p.config,o=d("#"+b[0]+l);if(m.area[0]===""&&m.maxWidth>0){if(/MSIE 7/.test(navigator.userAgent)&&m.btn){o.width(o.innerWidth())}o.outerWidth()>m.maxWidth&&o.width(m.maxWidth)}var n=[o.innerWidth(),o.innerHeight()];var q=o.find(b[1]).outerHeight()||0;var k=o.find("."+b[6]).outerHeight()||0;function j(r){r=o.find(r);r.height(n[1]-q-k-2*(parseFloat(r.css("padding"))|0))}switch(m.type){case 2:j("iframe");break;default:if(m.area[1]===""){if(m.fix&&n[1]>=g.height()){n[1]=g.height();j("."+b[5])}}else{j("."+b[5])}break}return p};a.pt.offset=function(){var n=this,j=n.config,m=n.layero;var l=[m.outerWidth(),m.outerHeight()];var k=typeof j.offset==="object";n.offsetTop=(g.height()-l[1])/2;n.offsetLeft=(g.width()-l[0])/2;if(k){n.offsetTop=j.offset[0];n.offsetLeft=j.offset[1]||n.offsetLeft}else{if(j.offset!=="auto"){n.offsetTop=j.offset;if(j.offset==="rb"){n.offsetTop=g.height()-l[1];n.offsetLeft=g.width()-l[0]}}}if(!j.fix){n.offsetTop=/%$/.test(n.offsetTop)?g.height()*parseFloat(n.offsetTop)/100:parseFloat(n.offsetTop);n.offsetLeft=/%$/.test(n.offsetLeft)?g.width()*parseFloat(n.offsetLeft)/100:parseFloat(n.offsetLeft);n.offsetTop+=g.scrollTop();n.offsetLeft+=g.scrollLeft()}m.css({top:n.offsetTop,left:n.offsetLeft})};a.pt.tips=function(){var p=this,n=p.config,o=p.layero;var m=[o.outerWidth(),o.outerHeight()],q=d(n.follow);if(!q[0]){q=d("body")}var l={width:q.outerWidth(),height:q.outerHeight(),top:q.offset().top,left:q.offset().left},k=o.find(".layui-layer-TipsG");var j=n.tips[0];n.tips[1]||k.remove();l.autoLeft=function(){if(l.left+m[0]-g.width()>0){l.tipLeft=l.left+l.width-m[0];k.css({right:12,left:"auto"})}else{l.tipLeft=l.left}};l.where=[function(){l.autoLeft();l.tipTop=l.top-m[1]-10;k.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",n.tips[1])},function(){l.tipLeft=l.left+l.width+10;l.tipTop=l.top;k.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",n.tips[1])},function(){l.autoLeft();l.tipTop=l.top+l.height+10;k.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",n.tips[1])},function(){l.tipLeft=l.left-m[0]-10;l.tipTop=l.top;k.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",n.tips[1])}];l.where[j-1]();if(j===1){l.top-(g.scrollTop()+m[1]+8*2)<0&&l.where[2]()}else{if(j===2){g.width()-(l.left+l.width+m[0]+8*2)>0||l.where[3]()}else{if(j===3){(l.top-g.scrollTop()+l.height+m[1]+8*2)-g.height()>0&&l.where[0]()}else{if(j===4){m[0]+8*2-l.left>0&&l.where[1]()}}}}o.find("."+b[5]).css({"background-color":n.tips[1],"padding-right":(n.closeBtn?"30px":"")});o.css({left:l.tipLeft,top:l.tipTop})};a.pt.move=function(){var l=this,k=l.config,j={setY:0,moveLayer:function(){var o=j.layero,n=parseInt(o.css("margin-left"));var p=parseInt(j.move.css("left"));n===0||(p=p-n);if(o.css("position")!=="fixed"){p=p-o.parent().offset().left;j.setY=0}o.css({left:p,top:parseInt(j.move.css("top"))-j.setY})}};var m=l.layero.find(k.move);k.move&&m.attr("move","ok");m.css({cursor:k.move?"move":"auto"});d(k.move).on("mousedown",function(r){r.preventDefault();if(d(this).attr("move")==="ok"){j.ismove=true;j.layero=d(this).parents("."+b[0]);var p=j.layero.offset().left,q=j.layero.offset().top,o=j.layero.outerWidth()-6,n=j.layero.outerHeight()-6;if(!d("#layui-layer-moves")[0]){d("body").append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+p+"px; top:"+q+"px; width:"+o+"px; height:"+n+'px; z-index:2147483584"></div>')}j.move=d("#layui-layer-moves");k.moveType&&j.move.css({visibility:"hidden"});j.moveX=r.pageX-j.move.position().left;j.moveY=r.pageY-j.move.position().top;j.layero.css("position")!=="fixed"||(j.setY=g.scrollTop())}});d(document).mousemove(function(r){if(j.ismove){var p=r.pageX-j.moveX,q=r.pageY-j.moveY;r.preventDefault();if(!k.moveOut){j.setY=g.scrollTop();var o=g.width()-j.move.outerWidth(),n=j.setY;p<0&&(p=0);p>o&&(p=o);q<n&&(q=n);q>g.height()-j.move.outerHeight()+j.setY&&(q=g.height()-j.move.outerHeight()+j.setY)}j.move.css({left:p,top:q});k.moveType&&j.moveLayer();p=q=o=n=null}}).mouseup(function(){try{if(j.ismove){j.moveLayer();j.move.remove();k.moveEnd&&k.moveEnd()}j.ismove=false}catch(n){j.ismove=false}});return l};a.pt.callback=function(){var m=this,l=m.layero,k=m.config;m.openLayer();if(k.success){if(k.type==2){l.find("iframe").on("load",function(){k.success(l,m.index)})}else{k.success(l,m.index)}}f.ie6&&m.IE6(l);l.find("."+b[6]).children("a:not(.link)").on("click",function(){var n=d(this).data("index")||d(this).index();k["btn"+(n+1)]&&k["btn"+(n+1)](m.index,l);if(n===0){j()}else{if(n===1){k.yes?k.yes(m.index,l):f.close(m.index)}else{k["btn"+(n+1)]||f.close(m.index)}}});function j(){var n=k.cancel&&k.cancel(m.index);n===false||f.close(m.index)}l.find("."+b[7]).on("click",j);if(k.shadeClose){d("#layui-layer-shade"+m.index).on("click",function(){f.close(m.index)})}l.find(".layui-layer-min").on("click",function(){f.min(m.index,k);k.min&&k.min(l)});l.find(".layui-layer-max").on("click",function(){if(d(this).hasClass("layui-layer-maxmin")){f.restore(m.index);k.restore&&k.restore(l)}else{f.full(m.index,k);k.full&&k.full(l)}});k.end&&(h.end[m.index]=k.end)};h.reselect=function(){d.each(d("select"),function(j,k){var l=d(this);if(!l.parents("."+b[0])[0]){(l.attr("layer")==1&&d("."+b[0]).length<1)&&l.removeAttr("layer").show()}l=null})};a.pt.IE6=function(m){var l=this,k=m.offset().top;function j(){m.css({top:k+(l.config.fix?g.scrollTop():0)})}j();g.scroll(j);d("select").each(function(n,o){var p=d(this);if(!p.parents("."+b[0])[0]){p.css("display")==="none"||p.attr({layer:"1"}).hide()}p=null})};a.pt.openLayer=function(){var j=this;f.zIndex=j.config.zIndex;f.setTop=function(l){var k=function(){f.zIndex++;l.css("z-index",f.zIndex+1)};f.zIndex=parseInt(l[0].style.zIndex);l.on("mousedown",k);return f.zIndex}};h.record=function(k){var j=[k.outerWidth(),k.outerHeight(),k.position().top,k.position().left+parseFloat(k.css("margin-left"))];k.find(".layui-layer-max").addClass("layui-layer-maxmin");k.attr({area:j})};h.rescollbar=function(j){if(b.html.attr("layer-full")==j){if(b.html[0].style.removeProperty){b.html[0].style.removeProperty("overflow")}else{b.html[0].style.removeAttribute("overflow")}b.html.removeAttr("layer-full")}};c.layer=f;f.getChildFrame=function(j,k){k=k||d("."+b[4]).attr("times");return d("#"+b[0]+k).find("iframe").contents().find(j)};f.getFrameIndex=function(j){return d("#"+j).parents("."+b[4]).attr("times")};f.iframeAuto=function(l){if(!l){return}var k=f.getChildFrame("html",l).outerHeight();var m=d("#"+b[0]+l);var n=m.find(b[1]).outerHeight()||0;var j=m.find("."+b[6]).outerHeight()||0;m.css({height:k+n+j});m.find("iframe").css({height:k})};f.iframeSrc=function(k,j){d("#"+b[0]+k).find("iframe").attr("src",j)};f.style=function(k,l){var n=d("#"+b[0]+k),m=n.attr("type");var o=n.find(b[1]).outerHeight()||0;var j=n.find("."+b[6]).outerHeight()||0;if(m===h.type[1]||m===h.type[2]){n.css(l);if(m===h.type[2]){n.find("iframe").css({height:parseFloat(l.height)-o-j})}}};f.min=function(j,k){var l=d("#"+b[0]+j);var m=l.find(b[1]).outerHeight()||0;h.record(l);f.style(j,{width:180,height:m,overflow:"hidden"});l.find(".layui-layer-min").hide();l.attr("type")==="page"&&l.find(b[4]).hide();h.rescollbar(j)};f.restore=function(j){var m=d("#"+b[0]+j),l=m.attr("area").split(",");var k=m.attr("type");f.style(j,{width:parseFloat(l[0]),height:parseFloat(l[1]),top:parseFloat(l[2]),left:parseFloat(l[3]),overflow:"visible"});m.find(".layui-layer-max").removeClass("layui-layer-maxmin");m.find(".layui-layer-min").show();m.attr("type")==="page"&&m.find(b[4]).show();h.rescollbar(j)};f.full=function(j){var k=d("#"+b[0]+j),l;h.record(k);if(!b.html.attr("layer-full")){b.html.css("overflow","hidden").attr("layer-full",j)}clearTimeout(l);l=setTimeout(function(){var m=k.css("position")==="fixed";f.style(j,{top:m?0:g.scrollTop(),left:m?0:g.scrollLeft(),width:g.width(),height:g.height()});k.find(".layui-layer-min").hide()},100)};f.title=function(k,j){var l=d("#"+b[0]+(j||f.index)).find(b[1]);l.html(k)};f.close=function(k){var n=d("#"+b[0]+k),m=n.attr("type");if(!n[0]){return}if(m===h.type[1]&&n.attr("conType")==="object"){n.children(":not(."+b[5]+")").remove();for(var l=0;l<2;l++){n.find(".layui-layer-wrap").unwrap().hide()}}else{if(m===h.type[2]){try{var j=d("#"+b[4]+k)[0];j.contentWindow.document.write("");j.contentWindow.close();n.find("."+b[5])[0].removeChild(j)}catch(o){}}n[0].innerHTML="";n.remove()}d("#layui-layer-moves, #layui-layer-shade"+k).remove();f.ie6&&h.reselect();h.rescollbar(k);d(document).off("keydown",h.enter);typeof h.end[k]==="function"&&h.end[k]();delete h.end[k]};f.closeAll=function(j){d.each(d("."+b[0]),function(){var l=d(this);var k=j?(l.attr("type")===j):1;k&&f.close(l.attr("times"));k=null})};h.run=function(){d=jQuery;g=d(c);b.html=d("html");f.open=function(k){var j=new a(k);return j.index}};"function"===typeof define?define(function(){h.run();f.use("skin/layer.css");return f}):function(){h.run();f.use("skin/layer.css")}()}(window);
